+++
title = '论软件复用设计方法及应用'

date = 2024-11-09T16:51:33+08:00

categories = ["软考"]

tags = ["论文"]

+++



论软件架构复用及应用

【摘要】

2022年3月，笔者就职于某互联网金融科技公司，主要负责系统架构师工作。期间，笔者所在团队参与了公司的智慧金融系统重构升级工作，笔者主要负责系统分析与架构设计工作。该项目主要为了更加高效的完成系统的重构开发，我们在设计过程中采用架构复用的思路进行需求分析与架构设计，依据公司现有的成熟稳定的构件进行复用，快速实现新智慧金融平台上的非功能需求。架构复用极大程度的加快了开发的效率保证了上线时间，同时复用稳定的构件给系统的可用性、安全性等质量带来保障，保证了项目上线后的稳定运行。本文将结合笔者在项目中对架构复用的基本过程实践来展开智慧金融系统的重构升级工作的详细描述。

【摘要】

本文将以笔者于2022年3月参与的公司智慧金融平台构架升级为例，讨论软件架构复用及应用在实际项目中的实践，该项目由笔者所在团队负责，笔者在该项目中担任系统架构师职务，负责系统的架构分析与架构设计。该系统主要包含渠道系统、风控系统、审批系统、工作流系统、电子签约系统等，为了提高系统的可用性、扩展性等，我们使用了全新的微服务架构对系统进行重构，由于系统众多，涉及业务点较多，为了保证系统准时上线，我们在设计过程中使用公司已经稳定且成熟的构件，以快速实现非功能需求，同时复用老平台的部分需求及设计，以快速实现新平台的开发工作。 在历经8个月后，2023年1月，项目经过完备测试正式上线，至今运行良好。

【正文】

随着互联网高速发展，各行各业线上化、信息化发展势头形式迅猛，我司金融助贷平台因年代已久，系统复杂度高，开发难度大，且可靠度较低等有因素，极大影响业务正常推进以及用户体验，为了提高我司在市场中的竞争力，公司决定对金融平台进行升级。由笔者所在团队担任本次的系统重构工作，笔者在其中担任系统架构师的角色，负责新系统的架构分析与架构设计。新系统采用微服务架构，使用SpirngCloud框架进行开发，将智慧金融平台拆分为渠道业务系统、审批系统、电子签约系统、风控系统等若干子系统，由每个小组负责进行开发，以提高开发效率，新的系统要实现业务流程全链路跟踪，方便后期问题排查，同时部署方式统一转换为容器化部署，提高服务的灵活性和弹性。

为了减少开发的工作量、提高开发效率以及降低成本的前提下保证质量，我们采用软件架构复用的形式进行软件开发，软件复用主要包含以下关键步骤：构建/获取可复用资产，这一步是复用的前提，首先需要明确需要构造恰当的、可复用的资产；管理可复用资产，对可复用资产进行有效的管理，主要是构件库的搭建，应实现对构建的存储、检索、管理和维护等；可复用资产使用，通过获取需求、检索可复用资产获取可复用资产，对可服用资产进行修改扩展等，最后将它们组装与集成，形成新的系统。以下笔者将会以上述步骤在项目中的实践做出详细论述。

构建/获取可复用资产，软件复用分为机会复用和系统复用，在系统分析阶段，我们采用系统复用的形式对公司构建库进行检索梳理，同时采用机会复用的形式对老平台的软件架构、功能需求、设计模型等进行复用。对于公司现有的成熟稳定的可复用构建，如系统网关服务、认证授权服务、公共数据中心服务等，我们联系相关团队同事获取详细的构件说明文档，并详细阅读。同时对于公司内的可复用资产进行跟踪，并确定构件版本是否涉及接口对接的响应修改，以对齐各系统之间的数据交互行为和团队协作共识；在初步分析识别可复用构件后，对于需要修改的构件进行分析，此类构件本身以被验证，需要权衡修改带来的变化是否会影响稳定性，如工作流系统等；若现有构件无法满足的需求，我们决定重新设计和开发。

管理可复用资产，这一环节我们主要做了构件库的搭建，构件库，由于构件的粒度不同，且可复用构件分散到各个系统中，为了解决构件的分类和构件检索问题，我们项目中主要使用Maven仓库作为构件管理，通过在公司内网搭建私有Maven仓库，所有的服务连接到该服务仓库，得益于Maven仓库的检索、版本控制能力，我们将不同版本、功能的构件上传至Maven仓库，提供给业务系统调用，仅需引入相关构件坐标及版本即可对构件进行组装。如全链路（TraceId）跟踪构件，系统中引入该构件时，系统中的消息中间件MQ、RPC调用、线程间的日志输出均会携带唯一标识；网络通信构件，提供统一的系统间交互模式，包含数据序列化，数据格式等标准。

可复用资产使用，在系统组装与集成阶段。我们首先复用了公司的公共数据中心，以API接口的形式完成了各个系统服务之间的基础元素的互通，如区域编码、公司组织机构等基础数据，保证各服务间数据一致。我们复用了认证授权中心，使用了各系统之间用户信息的一致性，同时保证了各系统之间认证授权的统一控制，保障系统的安全性。由于使用微服务的缘故，在微服务之间的治理等方面引入了诸多成熟构件，如使用Sentinel构件提供服务降级、服务限流、服务恢复等行为，提高系统的可用性，复用Redis、MySQL等三方构件，并统一版本，以提高系统集成部署时不同系统之间由于差异引起的不确定性因素等。

历经8个月，于2023年1月项目成功上线，相比原计划提前了1个月，笔者团队得到了公司高层的认可。笔者团队取得的成绩，主要得益于我们采用软件架构复用的方式，复用了公司诸多成熟稳定的构件、架构、需求模型。不仅缩短了开发周期，同时也保证了质量，提高了测试的完备性，新的系统无论在运维维护或者可靠性上较之前有了巨大他提升。伴随了成功我们在实际开发工程中也面临到一些问题，如构件的兼容性问题，大量的使用构件，构件之间存在部分的冲突，导致构件不能正常发挥作用，我们通过翻阅官方文档并本地实验的形式进行解决，并将相关构件进行维护说明，以备后期复用。

通过本次项目，让我更加理解架构设计在整个软件过程中的重要性，让我更加关注架构复用带来的优势，验证到好的架构设计对项目的重要性，使笔者的架构理解得到提升，为未来更加复杂的架构设计工作打下了坚实的基础。
