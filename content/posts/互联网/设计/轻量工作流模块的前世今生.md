+++
title = '轻量工作流模块的前世今生'

date = 2025-08-28T22:02:36+08:00

categories = ["设计"]

tags = ["工作流"]

draft = true

+++



### 轻量工作流模块的前世今生



> 背景：
>
> 在诸多系统中的存在流程的概念，这就引出一个概念系统-工作流系统，当今市场上存在很多工作流系统，Activiti和Flowable都是比较出名的产品。但是，如果我们想要在现有系统中引入工作流系统，现有的开源工作流又显得过于庞大且学习成本较高，在此背景下，笔者在工作外开始进行工作流方面的思考，于是引出了这篇文章。
>
> 
>
> 所谓前世今生，前世是对工作流问题的总结，今生是工作流的设计。



#### 前世

系统中节点流转中我们经常碰到几个问题：

1. 没有完善的骨架支持整个流程，流程的更迭更多是在堆代码的行为下进行。
2. 业务流和工作流强耦合，业务流常伴随工作流的信息，即业务逻辑中参杂大量的工作流信息，例如业务流直接声明下一节点，流程的变更必然引起代码的修改。
3. 一致性问题，由于业务流程中存在各种未知问题，同时工作流系统也存在很多未知问题，若不能很好的控制事务，必然会导致大量的工作流和业务流信息不一致的问题。
4. 开发难度大，正如背景所讲，Flowable本身作为一个庞大的系统，若想快速上手并投产使用需要掌握大量的知识，同时需要将现有系统业务流融入到工作流中。
5. 缺少节点事件，更多的时候我们需要在流程流转或流程的关键节点设计回调机制，例如，当流程完成后发送短信发送审批结果。
6. 可扩展性，如何快速且快捷的进行流程迭代也是重要的一环。





#### 设计思路



###### 工作流设计

首先明确工作流引擎基本功能

1. 创建

   负责流程的创建

2. 签收

   签收当前节点的流程

3. 完成

   完成当前的流程

![image-20250829000838087](https://filestore.lifepoem.fun/know/20250829000838115.png)









